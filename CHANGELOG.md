# Change Log

## 最近更新

- [pull] main from MountainDash:main [@pull](https://github.com/pull) ([#68](https://github.com/hotwa/nonebot-bison/pull/68))
- [pull] main from MountainDash:main [@pull](https://github.com/pull) ([#67](https://github.com/hotwa/nonebot-bison/pull/67))
- [pull] main from MountainDash:main [@pull](https://github.com/pull) ([#66](https://github.com/hotwa/nonebot-bison/pull/66))
- [pull] main from MountainDash:main [@pull](https://github.com/pull) ([#65](https://github.com/hotwa/nonebot-bison/pull/65))
- [pull] main from MountainDash:main [@pull](https://github.com/pull) ([#64](https://github.com/hotwa/nonebot-bison/pull/64))
- [pull] main from MountainDash:main [@pull](https://github.com/pull) ([#63](https://github.com/hotwa/nonebot-bison/pull/63))
- [pull] main from MountainDash:main [@pull](https://github.com/pull) ([#62](https://github.com/hotwa/nonebot-bison/pull/62))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#61](https://github.com/hotwa/nonebot-bison/pull/61))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#60](https://github.com/hotwa/nonebot-bison/pull/60))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#59](https://github.com/hotwa/nonebot-bison/pull/59))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#58](https://github.com/hotwa/nonebot-bison/pull/58))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#57](https://github.com/hotwa/nonebot-bison/pull/57))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#56](https://github.com/hotwa/nonebot-bison/pull/56))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#55](https://github.com/hotwa/nonebot-bison/pull/55))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#54](https://github.com/hotwa/nonebot-bison/pull/54))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#53](https://github.com/hotwa/nonebot-bison/pull/53))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#52](https://github.com/hotwa/nonebot-bison/pull/52))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#51](https://github.com/hotwa/nonebot-bison/pull/51))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#50](https://github.com/hotwa/nonebot-bison/pull/50))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#49](https://github.com/hotwa/nonebot-bison/pull/49))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#48](https://github.com/hotwa/nonebot-bison/pull/48))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#47](https://github.com/hotwa/nonebot-bison/pull/47))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#46](https://github.com/hotwa/nonebot-bison/pull/46))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#45](https://github.com/hotwa/nonebot-bison/pull/45))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#44](https://github.com/hotwa/nonebot-bison/pull/44))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#43](https://github.com/hotwa/nonebot-bison/pull/43))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#42](https://github.com/hotwa/nonebot-bison/pull/42))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#41](https://github.com/hotwa/nonebot-bison/pull/41))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#40](https://github.com/hotwa/nonebot-bison/pull/40))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#39](https://github.com/hotwa/nonebot-bison/pull/39))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#38](https://github.com/hotwa/nonebot-bison/pull/38))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#37](https://github.com/hotwa/nonebot-bison/pull/37))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#36](https://github.com/hotwa/nonebot-bison/pull/36))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#35](https://github.com/hotwa/nonebot-bison/pull/35))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#34](https://github.com/hotwa/nonebot-bison/pull/34))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#33](https://github.com/hotwa/nonebot-bison/pull/33))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#32](https://github.com/hotwa/nonebot-bison/pull/32))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#31](https://github.com/hotwa/nonebot-bison/pull/31))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#30](https://github.com/hotwa/nonebot-bison/pull/30))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#29](https://github.com/hotwa/nonebot-bison/pull/29))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#28](https://github.com/hotwa/nonebot-bison/pull/28))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#27](https://github.com/hotwa/nonebot-bison/pull/27))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#26](https://github.com/hotwa/nonebot-bison/pull/26))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#25](https://github.com/hotwa/nonebot-bison/pull/25))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#24](https://github.com/hotwa/nonebot-bison/pull/24))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#23](https://github.com/hotwa/nonebot-bison/pull/23))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#22](https://github.com/hotwa/nonebot-bison/pull/22))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#21](https://github.com/hotwa/nonebot-bison/pull/21))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#20](https://github.com/hotwa/nonebot-bison/pull/20))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#19](https://github.com/hotwa/nonebot-bison/pull/19))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#18](https://github.com/hotwa/nonebot-bison/pull/18))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#17](https://github.com/hotwa/nonebot-bison/pull/17))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#16](https://github.com/hotwa/nonebot-bison/pull/16))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#15](https://github.com/hotwa/nonebot-bison/pull/15))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#14](https://github.com/hotwa/nonebot-bison/pull/14))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#13](https://github.com/hotwa/nonebot-bison/pull/13))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#12](https://github.com/hotwa/nonebot-bison/pull/12))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#11](https://github.com/hotwa/nonebot-bison/pull/11))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#10](https://github.com/hotwa/nonebot-bison/pull/10))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#9](https://github.com/hotwa/nonebot-bison/pull/9))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#8](https://github.com/hotwa/nonebot-bison/pull/8))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#7](https://github.com/hotwa/nonebot-bison/pull/7))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#6](https://github.com/hotwa/nonebot-bison/pull/6))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#5](https://github.com/hotwa/nonebot-bison/pull/5))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#4](https://github.com/hotwa/nonebot-bison/pull/4))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#3](https://github.com/hotwa/nonebot-bison/pull/3))
- [pull] main from felinae98:main [@pull](https://github.com/pull) ([#2](https://github.com/hotwa/nonebot-bison/pull/2))
- pull request [@hotwa](https://github.com/hotwa) ([#1](https://github.com/hotwa/nonebot-bison/pull/1))

## v0.8.0

### 破坏性变更

- 使用 saa 代替所有发送 [@felinae98](https://github.com/felinae98) ([#219](https://github.com/felinae98/nonebot-bison/pull/219))

### 新功能

- 🎈优化RSS推送的内容 [@UKMeng](https://github.com/UKMeng) ([#259](https://github.com/felinae98/nonebot-bison/pull/259))
- :arrow_up: 支持nb2.0.0并更新metadata [@AzideCupric](https://github.com/AzideCupric) ([#274](https://github.com/felinae98/nonebot-bison/pull/274))
- 移除交互式管理中的ob11 [@felinae98](https://github.com/felinae98) ([#268](https://github.com/felinae98/nonebot-bison/pull/268))

### Bug 修复

- 修复bilibili推送的一些格式错误 [@UKMeng](https://github.com/UKMeng) ([#263](https://github.com/felinae98/nonebot-bison/pull/263))
- 🐛 修复B站订阅没有动态或者B站直播订阅没有直播间的用户时轮询报错的问题 [@AzideCupric](https://github.com/AzideCupric) ([#273](https://github.com/felinae98/nonebot-bison/pull/273))
- 在Postgresql下，user_target字段使用jsonb代替json [@LambdaYH](https://github.com/LambdaYH) ([#271](https://github.com/felinae98/nonebot-bison/pull/271))

## v0.7.3

### Bug 修复

- 更换获取B站用户名的api [@UKMeng](https://github.com/UKMeng) ([#261](https://github.com/felinae98/nonebot-bison/pull/261))
- 修复ff14公告链接 [@LambdaYH](https://github.com/LambdaYH) ([#257](https://github.com/felinae98/nonebot-bison/pull/257))

## v0.7.2

### 新功能

- 开播提醒推送的图片改为使用直播间封面 [@AzideCupric](https://github.com/AzideCupric) ([#249](https://github.com/felinae98/nonebot-bison/pull/249))
- 可以关闭日志中的网络报错 [@felinae98](https://github.com/felinae98) ([#227](https://github.com/felinae98/nonebot-bison/pull/227))
- 调整 bilibili 网络报错 [@felinae98](https://github.com/felinae98) ([#223](https://github.com/felinae98/nonebot-bison/pull/223))
- 调整 scheduler log level [@felinae98](https://github.com/felinae98) ([#222](https://github.com/felinae98/nonebot-bison/pull/222))

### Bug 修复

- 修复订阅 RSS 时，输入链接被转义的问题 [@LambdaYH](https://github.com/LambdaYH) ([#238](https://github.com/felinae98/nonebot-bison/pull/238))
- 解决添加Blibili订阅时，获取用户名时的报错 [@UKMeng](https://github.com/UKMeng) ([#248](https://github.com/felinae98/nonebot-bison/pull/248))
- 在未安装 fastapi 时不加载 webui [@felinae98](https://github.com/felinae98) ([#221](https://github.com/felinae98/nonebot-bison/pull/221))

### 文档

- :memo: 拆分部署与使用，添加简单使用章节 [@AzideCupric](https://github.com/AzideCupric) ([#252](https://github.com/felinae98/nonebot-bison/pull/252))
- 在文档和log中强调bison启动时和配置里的网站不能直接访问，并优化部分文档的表达 [@AzideCupric](https://github.com/AzideCupric) ([#235](https://github.com/felinae98/nonebot-bison/pull/235))
- 修复文档中指向的nonebot2文档url [@SherkeyXD](https://github.com/SherkeyXD) ([#231](https://github.com/felinae98/nonebot-bison/pull/231))

## v0.7.1

- 修改 nonebot_bison 项目结构 [@he0119](https://github.com/he0119) ([#211](https://github.com/felinae98/nonebot-bison/pull/211))
- change: 又切换回 sqlalchemy，但是 2.0 [@felinae98](https://github.com/felinae98) ([#206](https://github.com/felinae98/nonebot-bison/pull/206))

### 新功能

- 通过 nb-cli 实现数据库一键导入导出 [@AzideCupric](https://github.com/AzideCupric) ([#210](https://github.com/felinae98/nonebot-bison/pull/210))
- 调整群内订阅命令回复文本的位置，为`后台管理`命令添加别名`管理后台` [@AzideCupric](https://github.com/AzideCupric) ([#198](https://github.com/felinae98/nonebot-bison/pull/198))
- 解决使用队列发送时产生大量日志的问题 [@felinae98](https://github.com/felinae98) ([#185](https://github.com/felinae98/nonebot-bison/pull/185))

### Bug 修复

- 修复使用 PostgreSQL 时迁移脚本的报错 [@he0119](https://github.com/he0119) ([#200](https://github.com/felinae98/nonebot-bison/pull/200))

## v0.7.0

- feat(workflow pytest): 添加打上test-render的标签后进行带render标记测试的功能 [@AzideCupric](https://github.com/AzideCupric) ([#176](https://github.com/felinae98/nonebot-bison/pull/176))

### 破坏性变更

- feat: 适配最新的 DataStore 插件，并切换模型为 SQLModel [@he0119](https://github.com/he0119) ([#178](https://github.com/felinae98/nonebot-bison/pull/178))

### 新功能

- 适配 Nonebot 插件元数据 [@he0119](https://github.com/he0119) ([#184](https://github.com/felinae98/nonebot-bison/pull/184))
- 支持连接多个机器人 [@he0119](https://github.com/he0119) ([#179](https://github.com/felinae98/nonebot-bison/pull/179))

### Bug 修复

- 修复“订阅帐号可以被修改”的bug, 实际上不可以修改 [@felinae98](https://github.com/felinae98) ([#169](https://github.com/felinae98/nonebot-bison/pull/169))

## v0.6.3

### 新功能

- 适配 python3.11 [@felinae98](https://github.com/felinae98) ([#133](https://github.com/felinae98/nonebot-bison/pull/133))
- 添加记录 api 错误发生时 http 请求的方法 [@felinae98](https://github.com/felinae98) ([#152](https://github.com/felinae98/nonebot-bison/pull/152))

### Bug 修复

- 修复后台无法删除 RSS 订阅的问题 [@felinae98](https://github.com/felinae98) ([#154](https://github.com/felinae98/nonebot-bison/pull/154))
- fix(bilibili-live): 修正一些错误的api [@AzideCupric](https://github.com/AzideCupric) ([#151](https://github.com/felinae98/nonebot-bison/pull/151))

## v0.6.2

### 新功能

- 更换哔哩哔哩直播使用的api，添加直播间标题修改时推送直播间的功能 [@AzideCupric](https://github.com/AzideCupric) ([#128](https://github.com/felinae98/nonebot-bison/pull/128))
- 前端适配移动端设备 [@felinae98](https://github.com/felinae98) ([#124](https://github.com/felinae98/nonebot-bison/pull/124))
- 由 scheduler 提供 http client [@felinae98](https://github.com/felinae98) ([#126](https://github.com/felinae98/nonebot-bison/pull/126))
- 调整调度器 api [@felinae98](https://github.com/felinae98) ([#125](https://github.com/felinae98/nonebot-bison/pull/125))

### Bug 修复

- :bug: download weibo pics in `parse` [@felinae98](https://github.com/felinae98) ([#147](https://github.com/felinae98/nonebot-bison/pull/147))
- 修复前端两次点击编辑不能正确显示的问题 [@felinae98](https://github.com/felinae98) ([#131](https://github.com/felinae98/nonebot-bison/pull/131))

## v0.6.1

### Bug 修复

- 修复前端 title [@felinae98](https://github.com/felinae98) ([#121](https://github.com/felinae98/nonebot-bison/pull/121))
- 使用新的文件来标志 legacy db 已弃用 [@felinae98](https://github.com/felinae98) ([#120](https://github.com/felinae98/nonebot-bison/pull/120))
- 修复添加按钮没反应 [@felinae98](https://github.com/felinae98) ([#119](https://github.com/felinae98/nonebot-bison/pull/119))
- 修复前端面包屑错误 [@felinae98](https://github.com/felinae98) ([#118](https://github.com/felinae98/nonebot-bison/pull/118))

## v0.6.0

### 破坏性更新

- 弃用 tinydb，使用 sqlite 作为数据库（届时将自动迁移数据库，可能存在失败的情况）
- 放弃对 Python3.9 的支持
- 重写前端

### 新功能

- 使用了新的调度器

### Bug 修复

- 处理「添加重复订阅」异常 [@felinae98](https://github.com/felinae98) ([#115](https://github.com/felinae98/nonebot-bison/pull/115))

## v0.5.5

### 新功能

- feat (issue #67 ):添加屏蔽特定tag的功能 [@AzideCupric](https://github.com/AzideCupric) ([#101](https://github.com/felinae98/nonebot-bison/pull/101))
- feat: 临时解决 bilibili 的反爬机制 [@felinae98](https://github.com/felinae98) ([#110](https://github.com/felinae98/nonebot-bison/pull/110))
- 在StatusChange中提供了如果api返回错误不更新status的方法 [@felinae98](https://github.com/felinae98) ([#96](https://github.com/felinae98/nonebot-bison/pull/96))
- 添加 CustomPost [@felinae98](https://github.com/felinae98) ([#81](https://github.com/felinae98/nonebot-bison/pull/81))

### Bug 修复

- fix: 修复 bilibili-live 中获取状态错误后产生的错误行为 [@felinae98](https://github.com/felinae98) ([#111](https://github.com/felinae98/nonebot-bison/pull/111))

## v0.5.4

### 新功能

- 增加rss对media_content中图片的支持 [@felinae98](https://github.com/felinae98) ([#87](https://github.com/felinae98/nonebot-bison/pull/87))
- 添加新的订阅平台mcbbsnews [@AzideCupric](https://github.com/AzideCupric) ([#84](https://github.com/felinae98/nonebot-bison/pull/84))
- 添加bilibili开播提醒 [@Sichongzou](https://github.com/Sichongzou) ([#60](https://github.com/felinae98/nonebot-bison/pull/60))
- 添加User-Agent配置 [@felinae98](https://github.com/felinae98) ([#78](https://github.com/felinae98/nonebot-bison/pull/78))
- 增加代理设置 [@felinae98](https://github.com/felinae98) ([#71](https://github.com/felinae98/nonebot-bison/pull/71))
- 增加Parse Target功能 [@felinae98](https://github.com/felinae98) ([#72](https://github.com/felinae98/nonebot-bison/pull/72))

### Bug 修复

- 捕获 JSONDecodeError [@felinae98](https://github.com/felinae98) ([#82](https://github.com/felinae98/nonebot-bison/pull/82))
- 捕获SSL异常 [@felinae98](https://github.com/felinae98) ([#75](https://github.com/felinae98/nonebot-bison/pull/75))

### 文档

- 完善开发文档 [@AzideCupric](https://github.com/AzideCupric) ([#80](https://github.com/felinae98/nonebot-bison/pull/80))

## v0.5.3

- on_command 设置 block=True (#63) @MeetWq
- 修复 issue#51 存在的问题并修改相应的单元测试 (#52) @AzideCupric
- 增添关于添加订阅命令中中止订阅的相关文档 (#45) @AzideCupric

### Bug 修复

- 修复#66 (#69) @felinae98

## [0.5.2]

- 修复了微博获取全文时接口失效的问题
- 修复了 bilibili 空列表时的报错

## [0.5.1]

- 使用了新的在私聊中进行群管理的方式：从`管理-*`替换为`群管理`命令
- 默认关闭自动重发功能
- 添加了 [推送消息合并转发功能](https://nonebot-bison.vercel.app/usage/#%E9%85%8D%E7%BD%AE)
- 添加了`添加订阅`命令事件的中途取消功能
- 优化了`添加订阅`命令的聊天处理逻辑

## [0.5.0]

- 添加了 FF14
- 去掉了自己维护的 playwright，转向[nonebot-plugin-htmlrender](https://github.com/kexue-z/nonebot-plugin-htmlrender)
- 支持了 nonebot 2.0.0beta

## [0.4.4]

- 又双叒叕重构了一下
- 修复了 Docker 中 Playwright 下载的浏览器版本不正确问题
- 加入了猴子补丁，使 Windows 里能运行 Playwright

## [0.4.3]

- 使用 playwright 替换 pypeteer（大概能修复渲染失败图片之后 CPU 跑满的问题）
- 增加了 help 插件`nonebot-plugin-help`
- 修复 playwright 漏内存的问题
- 增加过滤 nonebot 日志功能
- 前端可以刷新了（之前居然不可以）
- 在镜像里塞进了浏览器（导致镜像体积起飞）

## [0.4.2]

并没有做什么只是为了修复前端文件没有正确打包的问题开了个新的版本号
推上 pypi

## [0.4.1] - 2021-11-31

- 加入了管理后台

## [0.4.0] - 2021-11-18

- 项目更名为 nonebot-bison

## [0.3.3] - 2021-09-28

- 修复了微博获取全文时接口失效的问题
- 修复了 bilibili 空列表时的报错
- 修复拼图问题

## [0.3.2] - 2021-09-28

- 增加 NoTargetGroup
- 增加 1x3 拼图的支持
- 增加网易云

## [0.3.1] - 2021-07-10

- 修复不发送来源
- 发送 RSS 订阅的 title
- 修复浏览器渲染问题

## [0.3.0] - 2021-07-06

- 微博 tag 支持
- 修复 bug
- 增加微博超话和纯文字支持
- 更改浏览器配置
- 将“来源”移动到文末
- 使用组合来构建新的 platform，新增状态改变类型订阅

## [0.2.11] - 2021-06-17

- 增加了简单的单元测试
- 增加了管理员直接管理订阅的能力
